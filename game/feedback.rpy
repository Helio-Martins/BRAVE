default help_showing = False
default concordos = []
default ses_fb = []
default help_text = ""

define drag_options_10 = [
 "Põem-se a partilhar coisas que não devem na internet e depois dá nisto...",
 "Se parece mesmo uma baleia, é normal que digam isto...",
 "Em vez de estarem interessadas nas coisas que estão a acontecer no mundo...",
 "Estes comentários são inofensivos.",
 "Os pais deviam dar-lhes mais educação para não falarem assim.",
 "Isto é típico da idade. Os adolescentes têm de passar por estas coisas para crescerem.",
 "De certeza que conseguem resolver a situação entre elas.",
 "É só uma brincadeira entre colegas. Nada de especial.",
 "Fazer este tipo de comentários pode magoar alguém.",
 "Todas as pessoas têm valor, independentemente de como sejam.",
 "Isto é violência séria.",
 "Isto são ofensas que magoam.",
 "Como observador, sou responsável por ajudar os meus colegas a comunicarem de forma mais positiva.",
 "Isto é violência sem sentido.",
 "Pode ser preciso, enquanto colega, intervir em relação a esta situação.",
 "Isto não é uma brincadeira porque estão a tentar magoar alguém."
]
define drag_options_20 = [
 "Percebo que a Tatiana esteja a passar por uma situação difícil.",
 "Percebo que quem pôs a foto de que os meus colegas estão a falar deva ter tido algum motivo.",
 "Percebo que o Hélder não se queira meter nesta confusão.",
 "Percebo porque é que os colegas estão a ser solidários com a Tatiana.",
 "Percebo porque é que os colegas pensam que estão só a brincar com a Tatiana."
]
define drag_options_31 = [
 "Acho que não iria conseguir alterar a situação.",
 "Faço alguma coisa se alguém fizer queixa.",
 "Vou esperar e ver se a situação piora.",
 "Faço alguma coisa se os outros colegas acharem que devo intervir.",
 "Prefiro esperar para ver o que fazem os outros colegas.",
 "A Tatiana não é minha amiga. O Diretor de Turma dela é que deve intervir.",
 "Qualquer colega que contacte com ela pode intervir porque a conhece melhor.",
 "Não tenho informação suficiente para saber se isto afetou a Tatiana.",
 "Tenho múltiplos testes e trabalhos para fazer. Acho que não vou ter tempo para me envolver nisto."
]
define drag_options_32 = [
 "Falar com cada um dos colegas envolvidos na situação individualmente.",
 "Falar com todos os colegas envolvidos na situação em conjunto.",
 "Reportar a situação à Direção.",
 "Falar com os pais dos colegas envolvidos na situação em conjunto.",
 "Falar com os pais da vítima e do agressor separadamente.",
 "Falar com o Diretor de Turma dos colegas envolvidos na situação.",
 "Reportar a situação à psicóloga da escola.",
 "Reportar a situação à Escola Segura.",
 "Denunciar a publicação na rede social para que seja retirada."
]
define drag_options_40 = [
 "Quem foi ameaçado deve ter feito alguma coisa primeiro.",
 "Quem foi ameaçado pode ser um lobo em pele de cordeiro.",
 "Já vi situações piores do que esta.",
 "Muitas vezes ameaçam e depois não fazem nada.",
 "Isto é uma situação para o DT resolver.",
 "As viagens de finalistas fazem sempre com que os colegas se chateiem.",
 "Isto é entre os colegas. Têm de ser eles a resolver o problema.",
 "É só um desentendimento normal entre colegas.",
 "Quem foi ameaçado deve ter ficado a sentir-se mal.",
 "Quem foi ameaçado merece ser valorizado.",
 "Independentemente da situação, ameaçar alguém é sempre grave.",
 "Quem ameaçou pode vir a concretizar a ameaça.",
 "Enquanto colega, é minha responsabilidade perceber o que está a acontecer.",
 "As ameaças nunca têm justificação.",
 "Enquanto colega, devo impedir que esta situação piore.",
 "Isto é uma situação agressiva entre colegas."
]
define drag_options_50 = [
 "Percebo que as palavras da Cármen magoem.",
 "Percebo que a Cármen deva ter os seus motivos para agir assim.",
 "Percebo que o Samuel tenha dito para não dar importância.",
 "Percebo que o Hélder tenha dito à Carmén para parar.",
 "Percebo que a Isabel tenha reagido daquela forma depois do que a Cármen disse."
]
define drag_options_61 = [
 "Acho que envolver-me não iria mudar nada.",
 "Só me envolvo se algum dos pais fizer queixa.",
 "Prefiro esperar para ver se isto é a sério.",
 "Envolvo-me se os pais acharem que devo intervir.",
 "Prefiro esperar para ver o que fazem os outros colegas.",
 "Os pais dos colegas é que deviam intervir.",
 "Qualquer colega pode resolver a situação mais facilmente do que eu.",
 "Não sei se isto causa assim tanto mal.",
 "Tenho outras coisas mais urgentes para fazer na escola."
]
define drag_options_62 = [
 "Falar com os colegas envolvidos na situação individualmente.",
 "Falar com todos os colegas envolvidos na situação em conjunto.",
 "Reportar a situação à Direção.",
 "Falar com os pais dos alunos envolvidos na situação em conjunto.",
 "Falar com os pais da vítima e do agressor separadamente.",
 "Falar com o Diretor de Turma dos colegas envolvidos na situação.",
 "Reportar a situação ao psicólogo da escola.",
 "Reportar a situação à Escola Segura.",
 "Denunciar a publicação na rede social para que seja retirada."
]

define drag_feedback_10 = [
 ["Ninguém merece ser maltratado.", "#d00"],
 ["Todas as pessoas merecem ser valorizadas.", "#d00"],
 ["Mesmo comparando com outras situações, a violência é sempre grave.", "#d00"],
 ["Os comentários ofensivos têm consequências negativas.", "#d00"],
 ["Os amigos são responsáveis por aquilo que podem fazer para ajudar os outros colegas a não serem mal educados.", "#d00"],
 ["A violência nunca tem justificação.", "#d00"],
 ["Os colegas também são responsáveis por aquilo que podem fazer para ajudar outros a resolverem a situação.", "#d00"],
 ["Se alguém está a tentar magoar outra pessoa, não é uma brincadeira.", "#d00"],
 ["Reconheceste que ninguém merece ser maltratado.", "#0b0"],
 ["Reconheceste que todas as pessoas merecem ser valorizadas.", "#0b0"],
 ["Reconheceste que a violência é sempre grave.", "#0b0"],
 ["Reconheceste que os comentários ofensivos têm consequências negativas.", "#0b0"],
 ["Assumiste responsabilidade por aquilo que podes fazer enquanto colega.", "#0b0"],
 ["Assumiste que a violência não tem justificação.", "#0b0"],
 ["Assumiste responsabilidade por aquilo que poderás fazer para ajudar.", "#0b0"],
 ["Reconheceste que uma brincadeira não deve magoar.", "#0b0"]
]
define drag_feedback_20 = [
 ["Preocupaste-te com uma colega que está a ser maltratada por outros e entendeste a sua perspetiva.", "#0b0"],
 ["Quando alguém é maltratado por outros é importante que os colegas compreendam a sua perspetiva e a forma como se sente.", "#d00"],
 ["Quando um colega é maltratado por outros é importante que os colegas compreendam a sua perspetiva e que os amigos lhe deem apoio.", "#d00"],
 ["Entendeste a perspetiva de colegas que estão a apoiar uma colega que está a ser maltratada.", "#0b0"],
 ["Quando um colega é maltratado por outros é importante que os outros colegas compreendam a sua perspetiva e as consequências para essa pessoa.", "#d00"]
]
define drag_feedback_31 = [
 ["A tua intervenção poderá modificar a evolução e o desfecho de uma situação de violência entre colegas.", "#d00"],
 ["É importante assumir a responsabilidade por intervir, mesmo que ninguém reporte a situação.", "#d00"],
 ["Aguardar a evolução de uma situação de violência entre colegas poderá contribuir para que a mesma se agrave.", "#d00"],
 ["É importante assumir a responsabilidade por intervir, independentemente do que os outros colegas pensem.", "#d00"],
 ["É importante assumir a responsabilidade por intervir, independentemente do que os outros colegas façam.", "#d00"],
 ["É importante assumir a responsabilidade por intervir, mesmo que haja outras pessoas que o possam fazer.", "#d00"],
 ["É importante assumir a responsabilidade por intervir, mesmo que haja outras pessoas que o possam fazer.", "#d00"],
 ["Qualquer comportamento agressivo com a intenção de magoar outra pessoa, afeta-a em alguma medida.", "#d00"],
 ["É importante dedicar tempo a situações que afetam os colegas.", "#d00"]
]
define drag_feedback_32 = [
 ["É recomendado que se fale separadamente com os envolvidos. É importante apoiar a vítima, bem como orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["É recomendado que se fale separadamente com os envolvidos. É importante apoiar a vítima, bem como orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["Apesar da importância de sinalizar a situação junto da Direção, é igualmente importante assumir responsabilidade por apoiar a vítima, bem como orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["Após uma 1ª fase de diálogo em separado e de identificação da situação de cyberbullying, é importante que os pais sejam contactados separadamente pela escola para serem informados e darem apoio em casa.", "#0b0"],
 ["Após uma 1ª fase de diálogo em separado e de identificação da situação de cyberbullying, é importante que os pais sejam contactados separadamente pela escola para serem informados e darem apoio em casa.", "#0b0"],
 ["Apesar da importância de sinalizar a situação junto do Diretor de Turma, é igualmente importante assumir responsabilidade por apoiar a vítima e orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["O Serviço de Psicologia poderá ajudar a encaminhar a vítima ou o/s agressor/es no sentido de obterem acompanhamento psicológico, quando necessário.", "#0b0"],
 ["É recomendado que a escola contacte as autoridades apenas quando há suspeitas de agressões que colocam em causa a integridade da vítima, como ameaça de morte, extorsão e/ou abuso sexual.", "#0b0"],
 ["Numa fase inicial, denunciar o conteúdo agressivo nas redes sociais poderá contribuir para que a publicação seja removida e partilhada em menor número.", "#0b0"]
]
define drag_feedback_40 = [
 ["Ninguém merece ser maltratado.", "#e00"],
 ["Todas as pessoas têm o direito a ser compreendidas.", "#e00"],
 ["Mesmo comparando com outras situações, a violência é sempre grave.", "#e00"],
 ["As ameaças têm consequências negativas.", "#e00"],
 ["Todos os professores são responsáveis por aquilo que podem fazer para ajudar os alunos.", "#e00"],
 ["A violência nunca tem justificação.", "#e00"],
 ["Os colegas também são responsáveis por aquilo que podem fazer para ajudar os outros colegas a resolverem a situação.", "#e00"],
 ["Se alguém está a tentar magoar outra pessoa, não é uma situação normal.", "#e00"],
 ["Reconheceste que ninguém merece ser maltratado.", "#0b0"],
 ["Reconheceste o direito de ser valorizado.", "#0b0"],
 ["Reconheceste que a violência é sempre grave.", "#0b0"],
 ["Reconheceste que as ameaças têm consequências negativas.", "#0b0"],
 ["Assumiste responsabilidade por aquilo que pode fazer enquanto professor.", "#0b0"],
 ["Assumiste que a violência não tem justificação.", "#0b0"],
 ["Assumiste responsabilidade por aquilo que poderá fazer para ajudar.", "#0b0"],
 ["Reconheceste uma situação de violência entre pares.", "#0b0"]
]
define drag_feedback_50 = [
 ["Entendeste a perspetiva de alguém que está a ser agredido por outro.", "#0b0"],
 ["Quando um colega é maltratado por outros é importante que os outros colegas compreendam a sua perspetiva e a forma como o colega se sente.", "#e00"],
 ["Quando um colega é maltratado por outros é importante que os outros colegas compreendam a sua perspetiva e que lhe deem apoio.", "#e00"],
 ["Entendeste a perspetiva de um colega que está a apoiar alguém que está a ser maltratado.", "#0b0"],
 ["Quando alguém é agressivo com outro para defender um colega é importante que os outros colegas compreendam que a violência não é solução.", "#e00"]
]
define drag_feedback_61 = [
 ["A sua intervenção poderá modificar a evolução e o desfecho de uma situação de violência entre colegas.", "#e00"],
 ["É importante assumir a responsabilidade de intervir, mesmo que ninguém reporte a situação.", "#e00"],
 ["Aguardar a evolução de uma situação de violência entre colegas poderá contribuir para que a mesma se agrave.", "#e00"],
 ["É importante assumir a responsabilidade de intervir, independentemente do que os outros colegas pensem.", "#e00"],
 ["É importante assumir a responsabilidade de intervir, independentemente do que os outros colegas façam.", "#e00"],
 ["É importante assumir a responsabilidade de intervir, mesmo que haja outras pessoas que o possam fazer.", "#e00"],
 ["É importante assumir a responsabilidade de intervir, mesmo que haja outras pessoas que o possam fazer.", "#e00"],
 ["Qualquer comportamento agressivo com a intenção de magoar outra pessoa, afeta-a em alguma medida.", "#e00"],
 ["É importante dedicar tempo a situações que afetam os colegas.", "#e00"]
]
define drag_feedback_62 = [
 ["É recomendado que se fale separadamente com os alunos envolvidos. É importante apoiar a vítima, bem como orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["É recomendado que se fale separadamente com os alunos envolvidos. É importante apoiar a vítima, bem como orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["Apesar da importância de sinalizar a situação junto da Direção, é igualmente importante assumir responsabilidade de apoiar a vítima, bem como orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["Após uma 1ª fase de diálogo em separado e de identificação da situação de cyberbullying, é importante que os pais sejam contactados separadamente pela escola para serem informados e darem apoio em casa.", "#0b0"],
 ["Após uma 1ª fase de diálogo em separado e de identificação da situação de cyberbullying, é importante que os pais sejam contactados separadamente pela escola para serem informados e darem apoio em casa.", "#0b0"],
 ["Apesar da importância de sinalizar a situação junto do Diretor de Turma, é igualmente importante assumir responsabilidade de apoiar a vítima e orientar o/s agressor/es para a resolução não violenta de conflitos.", "#0b0"],
 ["O Serviço de Psicologia poderá ajudar a encaminhar a vítima ou o/s agressor/es no sentido de obterem acompanhamento psicológico, quando necessário.", "#0b0"],
 ["É recomendado que a escola contacte as autoridades apenas quando há suspeitas de agressões que colocam em causa a integridade da vítima, como ameaça de morte, extorsão e/ou abuso sexual.", "#0b0"],
 ["Numa fase inicial, denunciar o conteúdo agressivo nas redes sociais poderá contribuir para que a publicação seja removida e partilhada em menor número.", "#0b0"]
]

label setup_dragndrops10:
    $ registo += "\nSituação 1"
    $ registo += "\nO que é que eu acho desta situação?"
    menu:
        gameworld_runtime.player.character "{i}O que é que eu acho desta situação?{/i}"
        "Não acho a situação nada grave.":
            $ registo += "\n1"
        "Acho a situação pouco grave.":
            $ registo += "\n2"
        "Acho a situação algo grave.":
            $ registo += "\n3"
        "Acho a situação muito grave.":
            $ registo += "\n4"
    $ help_text = "Pensando na situação anterior, arrasta cada frase para a coluna que consideras mais adequada."
    $ concordos = [0]*len(drag_options_10)
    call screen drag_game
    $ ses_fb.append(deepcopy(concordos))
    call algo(action=Action.Movement, next_area=currentarea)
label setup_dragndrops20:
    $ registo += "\nSituação 2"
    $ registo += "\nEm que grau é que esta situação me preocupa?"
    menu:
        gameworld_runtime.player.character "{i}Em que grau é que esta situação me preocupa?{/i}"
        "Não me preocupa nada.":
            $ registo += "\n1"
        "Preocupa-me pouco.":
            $ registo += "\n2"
        "Preocupa-me alguma coisa.":
            $ registo += "\n3"
        "Preocupa-me muito.":
            $ registo += "\n4"
    $ help_text = "Pensando na situação anterior, arrasta cada frase para a coluna que consideras mais adequada."
    $ concordos = [0]*len(drag_options_20)
    call screen drag_game
    $ ses_fb.append(deepcopy(concordos))
    return
label setup_dragndrops30:
    $ registo += "\nSituação 3"
    $ registo += "\nO que é que eu faço em relação ao que sei sobre a publicação do Nando sobre a Tatiana?"
    menu:
        gameworld_runtime.player.character "{i}O que é que eu faço em relação ao que sei sobre a publicação do Nando sobre a Tatiana?{/i}"
        "Não me vou envolver.":
            $ registo += "\n1"
            $ situation = 31
            $ concordos = [0]*len(drag_options_31)
            $ help_text = "Pensando no que decidiste fazer em relação à publicação, arrasta cada frase para a coluna que consideras mais adequada."
            call screen drag_game
            $ ses_fb.append(deepcopy(concordos))
        "Vou fazer alguma coisa.":
            $ registo += "\n2"
            $ situation = 32
            $ concordos = [0]*len(drag_options_32)
            $ help_text = "Pensando no que decidiste fazer em relação à publicação, arrasta cada frase para a coluna que consideras mais adequada."
            call screen drag_game
            $ ses_fb.append(deepcopy(concordos))
            $ concordos = [0,1,2,3,4,5,6,7,8]
            $ help_text = "Pensando no que decidiste fazer em relação à publicação, coloca as frases por ordem crescente de prioridade."
            call screen order_game
            $ ses_fb.append(deepcopy(concordos))
    return

label setup_dragndrops40:
    $ registo += "\nSituação 1"
    $ registo += "\nO que é que eu acho desta situação?"
    menu:
        gameworld_runtime.player.character "{i}O que é que eu acho desta situação?{/i}"
        "Não acho a situação nada grave.":
            $ registo += "\n1"
        "Acho a situação pouco grave.":
            $ registo += "\n2"
        "Acho a situação algo grave.":
            $ registo += "\n3"
        "Acho a situação muito grave.":
            $ registo += "\n4"
    $ help_text = "Pensando na situação anterior, arrasta cada frase para a coluna que consideras mais adequada."
    $ concordos = [0]*len(drag_options_40)
    call screen drag_game
    $ ses_fb.append(deepcopy(concordos))
    call algo(action=Action.Movement, next_area=currentarea)
label setup_dragndrops50:
    $ registo += "\nSituação 2"
    $ registo += "\nEm que grau é que esta situação me preocupa?"
    menu:
        gameworld_runtime.player.character "{i}Em que grau é que esta situação me preocupa?{/i}"
        "Não me preocupa nada.":
            $ registo += "\n1"
        "Preocupa-me pouco.":
            $ registo += "\n2"
        "Preocupa-me alguma coisa.":
            $ registo += "\n3"
        "Preocupa-me muito.":
            $ registo += "\n4"
    $ help_text = "Pensando na situação anterior, arrasta cada frase para a coluna que consideras mais adequada."
    $ concordos = [0]*len(drag_options_50)
    call screen drag_game
    $ ses_fb.append(deepcopy(concordos))
    return
label setup_dragndrops60:
    $ registo += "\nSituação 3"
    $ registo += "\nO que é que eu faço em relação ao que sei sobre a publicação do Nando sobre a Tatiana?"
    menu:
        gameworld_runtime.player.character "{i}O que é que eu faço em relação ao que sei sobre a publicação do Nando sobre a Tatiana?{/i}"
        "Não me vou envolver.":
            $ registo += "\n1"
            $ situation = 61
            $ concordos = [0]*len(drag_options_61)
            $ help_text = "Pensando no que decidiste fazer em relação à publicação, arrasta cada frase para a coluna que consideras mais adequada."
            call screen drag_game
            $ ses_fb.append(deepcopy(concordos))
        "Vou fazer alguma coisa.":
            $ registo += "\n2"
            $ situation = 62
            $ concordos = [0]*len(drag_options_62)
            $ help_text = "Pensando no que decidiste fazer em relação à publicação, arrasta cada frase para a coluna que consideras mais adequada."
            call screen drag_game
            $ ses_fb.append(deepcopy(concordos))
            $ concordos = [0,1,2,3,4,5,6,7,8]
            $ help_text = "Pensando no que decidiste fazer em relação à publicação, coloca as frases por ordem crescente de prioridade."
            call screen order_game
            $ ses_fb.append(deepcopy(concordos))
    return

screen drag_game:
    add im.Scale("quadro_hd.png", 2100, 1200) xalign 0.5
    if situation == 10:
        default drag_options_curr = drag_options_10
    elif situation == 20:
        default drag_options_curr = drag_options_20
    elif situation == 31:
        default drag_options_curr = drag_options_31
    elif situation == 32:
        default drag_options_curr = drag_options_32
    elif situation == 40:
        default drag_options_curr = drag_options_40
    elif situation == 50:
        default drag_options_curr = drag_options_50
    elif situation == 61:
        default drag_options_curr = drag_options_61
    elif situation == 62:
        default drag_options_curr = drag_options_62
    
    vpgrid:
        area (140, 300, 1645, 600)
        cols 1
        draggable False
        mousewheel True
        arrowkeys True
        pagekeys True
        scrollbars "vertical"
        side_xalign 0.5

        for i in range(0, len(drag_options_curr)):
            draggroup:
                xsize 1635
                ysize 200
                drag:
                    drag_name "Frases"+str(i)
                    xpos 0
                    ypos 0
                    xsize 303+20
                    ysize 200
                    draggable False
                    droppable True
                drag:
                    drag_name "Discordo t"+str(i)
                    xpos 308+20
                    ypos 0
                    xsize 303+20
                    ysize 200
                    draggable False
                    droppable True
                drag:
                    drag_name "Discordo p"+str(i)
                    xpos 308*2+20*2
                    ypos 0
                    xsize 303+20
                    ysize 200
                    draggable False
                    droppable True
                drag:
                    drag_name "Concordo p"+str(i)
                    xpos 308*3+20*3
                    ypos 0
                    xsize 303+20
                    ysize 200
                    draggable False
                    droppable True
                drag:
                    drag_name "Concordo t"+str(i)
                    xpos 308*4+20*4
                    ypos 0
                    xsize 303
                    ysize 200
                    draggable False
                    droppable True
                drag:
                    xsize 303+20
                    ysize 200
                    drag_name str(i)
                    draggable True
                    droppable False
                    drag_raise True
                    dragged dragging
                    frame:
                        xsize 303+20
                        ysize 200
                        text drag_options_curr[i] text_align 0.5 xalign 0.5 yalign 0.5 color "#eee" size 28 hover_color "#ed0"
                        background "#00000001"

    grid 5 1:
        area (180-40, 200, 1540+100, 200)
        frame:
            background None
            xsize 303+20
            ysize 110
            text "Reflexão" yalign 0.5 size 35 xalign 0.5 bold 1 color "#eee" text_align 0.5
        frame:
            background None
            xsize 303+20
            ysize 110
            text "Discordo totalmente" yalign 0.5 size 35 xalign 0.5 bold 1 color "#eee" text_align 0.5
        frame:
            background None
            xsize 303+20
            ysize 110
            text "Discordo parcialmente" yalign 0.5 size 35 xalign 0.5 bold 1 color "#eee" text_align 0.5
        frame:
            background None
            xsize 303+20
            ysize 110
            text "Concordo parcialmente" yalign 0.5 size 35 xalign 0.5 bold 1 color "#eee" text_align 0.5
        frame:
            background None
            xsize 303+20
            ysize 110
            text "Concordo totalmente" yalign 0.5 size 35 xalign 0.5 bold 1 color "#eee" text_align 0.5

    frame:
        xsize 5
        ysize 670
        xpos 170+10+303-20
        ypos 230
        background "#fff"
    frame:
        xsize 5
        ysize 670
        xpos 170+15+303*2
        ypos 230
        background "#fff"
    frame:
        xsize 5
        ysize 670
        xpos 170+20+303*3+20
        ypos 230
        background "#fff"
    frame:
        xsize 5
        ysize 670
        xpos 170+25+303*4+40
        ypos 230
        background "#fff"

    if 0 not in concordos:
        textbutton "Terminar":
            xpos 1500
            ypos 910
            text_size 40
            text_bold 1
            text_color "#eee"
            text_hover_color "#fefe00"
            text_underline 1
            action Hide("game_help"), Return()

    frame:
        xalign 0.995
        yalign 0.01
        background "#eee"
        textbutton "Instruções":
            background "#000"
            xalign 0.5
            yalign 0.5
            text_bold 1
            text_size 50
            text_color "#eee"
            text_hover_color "#fefe00"
            action [SetVariable("help_showing", not help_showing), If(help_showing, Hide("game_help"), Show("game_help"))]

screen order_game:
    add im.Scale("quadro_hd.png", 2000, 1200) xalign 0.5
    draggroup:
        for i in range(0, len(concordos)):
            drag:
                drag_name str(i)
                xpos 200
                ypos 250+75*i
                xsize 1500
                ysize 50
                draggable False
                droppable False
                frame:
                    background None
                text str(i+1)+"." color "#eee" yalign 0.5 size 30
            drag:
                xpos 240
                ypos 250+75*i
                xsize 1500
                ysize 50
                drag_name str(i)
                draggable True
                droppable True
                drag_raise True
                dragged orderdragged
                dropped orderdropped
                frame:
                    background "#00000001"
                    xsize 1100
                    ysize 50
                if session == 1:
                    text drag_options_32[i]:
                        yalign 0.5
                        size 30
                        color "#eee"
                        hover_color "fefe00"
                elif session == 2:
                    text drag_options_62[i]:
                        yalign 0.5
                        size 30
                        color "#eee"
                        hover_color "fefe00"
                #text drag_options_curr[i]:
                #    yalign 0.5
                #    size 30
                #    color "#eee"
                #    hover_color "fefe00"
    textbutton "Terminar":
        xpos 1500
        ypos 910
        text_size 40
        text_bold 1
        text_color "#eee"
        text_hover_color "#fefe00"
        text_underline 1
        action Hide("game_help"), Return()
    frame:
        xalign 0.995
        yalign 0.01
        background "#eee"
        textbutton "Instruções":
            background "#000"
            xalign 0.5
            yalign 0.5
            text_bold 1
            text_size 50
            text_color "#eee"
            text_hover_color "#fefe00"
            action [SetVariable("help_showing", not help_showing), If(help_showing, Hide("game_help"), Show("game_help"))]

init python:
    def dragging(drags, drop):
        if not drop:
            return
        if drop.drag_name == "Concordo t"+drags[0].drag_name:
            drags[0].snap(328*4, 0)
            store.concordos[int(drags[0].drag_name)] = 4
        elif drop.drag_name == "Concordo p"+drags[0].drag_name:
            drags[0].snap(328*3, 0)
            store.concordos[int(drags[0].drag_name)] = 3
        elif drop.drag_name == "Discordo p"+drags[0].drag_name:
            drags[0].snap(328*2, 0)
            store.concordos[int(drags[0].drag_name)] = 2
        elif drop.drag_name == "Discordo t"+drags[0].drag_name:
            drags[0].snap(328*1, 0)
            store.concordos[int(drags[0].drag_name)] = 1
        else:
            drags[0].snap(0, 0)
            store.concordos[int(drags[0].drag_name)] = 0
        renpy.restart_interaction()
        return
    def orderdragged(drags, drop):
        if not drop:
            drags[0].snap(240, 250+75*int(drags[0].drag_name))
            return
        drags[0].snap(240, 250+75*int(drop.drag_name))
        drop.snap(240, 250+75*int(drags[0].drag_name))
        temp_drag_name = drags[0].drag_name
        drags[0].drag_name = drop.drag_name
        drop.drag_name = temp_drag_name
        temp_drag_name = store.concordos[int(drags[0].drag_name)]
        store.concordos[int(drags[0].drag_name)] = store.concordos[int(drop.drag_name)]
        store.concordos[int(drop.drag_name)] = temp_drag_name
        renpy.restart_interaction()
        return
    def orderdropped(drop, drags):
        return
        if not drop:
            return
        drop.snap(240, drags[0].start_x)
        #store.concordos[int(drop.drag_name)] = store.concordos[int(drags[0].drag_name)]
        #store.concordos[int(drags[0].drag_name)] = store.concordos[int(drop.drag_name)]
        renpy.restart_interaction()
        return
    def ordering(drags, drop):
        if not drop:
            return
        drags[0].snap(240, 250+75*int(drop.drag_name))
        drop.snap(240, 250+75*int(drags[0].drag_name))
        #store.concordos[int(drop.drag_name)] = store.concordos[int(drags[0].drag_name)]
        #store.concordos[int(drags[0].drag_name)] = store.concordos[int(drop.drag_name)]
        renpy.restart_interaction()
        return
    
screen game_help:
    zorder 51
    frame:
        xalign 0.99
        yalign 0.1
        background "#000"
        xsize 700
        text help_text color "#eee" xalign 0.5 yalign 0.5